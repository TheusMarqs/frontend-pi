<app-header-coord></app-header-coord>

<div class="container">
  <div class="display-6 text-center mt-5">
    {{weekDay}}
    <button [routerLink]="['/coordenador']" class="btn btn-fatec ms-5">Voltar</button>
  </div>
  <form [formGroup]="formGroupSchedule">
    <div class="row mt-5">
      <div *ngFor="let time of times" class="col-md-4">
        <input type="text" class="form-control mt-5" disabled value="{{time.time}}">
        <select formControlName="time" class="form-select mt-2">
          <option *ngFor="let time of times" value="{{time.id}}">
            {{ time.time }}
          </option>
          <option value="0" *ngIf="times.length === 0" disabled>Nenhum hor치rio cadastrado.</option>
        </select>

        <select formControlName="classroom" class="form-select mt-2">
          <option *ngFor="let classroom of classrooms" value="{{classroom.id}}">
            {{ classroom.type | titlecase }} - {{classroom.number}}
          </option>
          <option value="0" *ngIf="classrooms.length === 0" disabled>Nenhuma sala cadastrada.</option>
        </select>
        <div *ngIf="submitted && classroom.invalid">
          <small class="text-danger">Sala inv치lida!</small>
        </div>

        <select formControlName="discipline" class="form-select mt-2">
          <option *ngFor="let discipline of disciplines" value="{{discipline.id}}">
            {{ discipline.name | titlecase }}
          </option>
          <option value="0" *ngIf="disciplines.length === 0" disabled>Nenhuma disciplina cadastrada.</option>
        </select>
        <div *ngIf="submitted && discipline.invalid">
          <small class="text-danger">Disciplina inv치lida!</small>
        </div>

        <select formControlName="professor" class="form-select mt-2">
          <option *ngFor="let professor of professors" value="{{professor.id}}">
            {{ professor.name | titlecase }}
          </option>
          <option value="0" *ngIf="professors.length === 0" disabled>Nenhum professor cadastrado.</option>
        </select>

        <div *ngIf="submitted && professor.invalid">
          <small class="text-danger">Professor inv치lido!</small>
        </div>
      </div>

    </div>

    <div class="mb-3 d-flex justify-content-end gap-2 mt-3">
      <button *ngIf="isEditing == false" class="btn btn-success" (click)="save()">Salvar</button>
      <button *ngIf="isEditing == true" class="btn btn-success" (click)="save()">Atualizar</button>
      <button class="btn btn-danger" (click)="cancel()">Cancelar</button>
    </div>
  </form>
</div>
